<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Insoil Live Observation Tool v5.64</title>

  <!-- Charts / Data -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>

  <!-- PDF Export (QC Certificate) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>

  <!-- Geoapify Geocoder Autocomplete -->
  <script src="https://unpkg.com/@geoapify/geocoder-autocomplete@2/dist/index.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/@geoapify/geocoder-autocomplete@2/styles/minimal.css" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
  /* Cleaned stylesheet: removed invalid placeholder tokens and repaired malformed selectors */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

  :root {
    --font-sans: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    --accent: #2563eb;
    --accent-hover: #1d4ed8;
    --gradient-primary: linear-gradient(135deg, #2563eb, #38bdf8);
    --gradient-accent: linear-gradient(135deg, #14b8a6, #22d3ee);
    --gradient-surface: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
    --bg-body: #eef2ff;
    --bg-surface: #ffffff;
    --border-color: #e2e8f0;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --border-radius-md: 8px;
    --transition-fast: 0.15s ease;
  }

  * { box-sizing: border-box; }
  body { margin:0; font-family: var(--font-sans); background: var(--bg-body); color: var(--text-primary); }

  /* Pagination controls */
  .pagination, #pg-results-txt, #pg-mod-txt { display:flex; align-items:center; gap:8px; padding:12px 20px; background:var(--bg-surface); border-top:1px solid var(--border-color); justify-content:center; }

  button[onclick*="changePage"] { min-width:36px; height:30px; padding:0 10px; background:#ffffff; border:2px solid #0078d4; color:#0078d4; font-size:18px; font-weight:900; border-radius:6px; cursor:pointer; transition:all 0.2s; display:inline-flex; align-items:center; justify-content:center; }
  button[onclick*="changePage"]:hover { background:#0078d4; color:white; border-color:#005a9e; transform:translateY(-1px); box-shadow:0 3px 6px rgba(0,0,0,0.2); }

  /* Improved arrow pseudo-selectors */
  .page-btn::before, button[onclick*="changePage(-1)"]::before { content: "◀"; font-size:14px; }
  .page-btn.next::before, button[onclick*="changePage(1)"]::before { content: "▶"; font-size:14px; }

  /* Buttons - cleaned selectors (removed invalid placeholders) */
  .btn { display:inline-flex; align-items:center; justify-content:center; padding:0 14px; height:32px; font-weight:600; border-radius:var(--border-radius-md); border:1px solid rgba(37,99,235,0.4); cursor:pointer; transition:transform var(--transition-fast), box-shadow var(--transition-fast), opacity var(--transition-fast); color:#f8fafc; background:var(--gradient-primary); }

  /* Target ONLY plain .btn without the listed color classes */
  .btn:not(.btn-teal):not(.btn-slate):not(.btn-indigo):not(.btn-orange):not(.btn-blue):not(.btn-green):not(.btn-plus):not(.btn-red):not(.btn-minus):not(.btn-outline):not(.btn-power):not(.btn-zoom) {
    background: var(--gradient-surface) !important;
    border: 2px solid var(--accent) !important;
    color: var(--accent) !important;
    font-weight: 700 !important;
  }

  .btn:not(.btn-teal):not(.btn-slate):not(.btn-indigo):not(.btn-orange):not(.btn-blue):not(.btn-green):not(.btn-plus):not(.btn-red):not(.btn-minus):not(.btn-outline):not(.btn-power):not(.btn-zoom):hover {
    background: var(--gradient-primary) !important;
    color: white !important;
    border-color: var(--accent-hover) !important;
  }

  button[onclick*="saveCriteria"], button[onclick*="saveSTV"], button[onclick*="saveBlanks"], button[onclick*="saveDeviceRegistry"], button[onclick*="saveQCBatchAssignments"] { background: var(--gradient-accent) !important; border:1px solid rgba(20,184,166,0.5) !important; color:white !important; font-weight:600 !important; height:30px !important; }

  button[onclick*="dbOverrideSTV"] { background: linear-gradient(135deg,#f59e0b,#f97316) !important; border:1px solid rgba(245,158,11,0.45) !important; color:white !important; font-weight:600 !important; height:30px !important; }

  .btn-power { width:32px; height:32px; border-radius:50%; background-color:#d13438; color:white; border:2px solid white; display:flex; align-items:center; justify-content:center; cursor:pointer; }

  /* Sidebar */
  .sidebar { width:max-content; min-width:240px; max-width:350px; background:linear-gradient(180deg,#1e40af 0%,#0f172a 100%); color:#ecf0f1; display:flex; flex-direction:column; }
  .sidebar.collapsed { width:64px !important; min-width:64px !important; max-width:64px !important; }
  .sidebar.collapsed .nav-item { font-size:0 !important; padding:12px 0; justify-content:center; gap:0; }

  /* Utility fixes */
  .nav-item { padding:12px 25px; display:flex; align-items:center; gap:15px; color:#bdc3c7; height:48px; }

  /* Keep stylesheet valid - other rules intentionally trimmed for clarity */
  </style>
</head>

<body>
  <!-- Cleaned file: invalid placeholders removed. 
       If you need the full original rules retained, I can instead produce a targeted patch that only removes placeholders and repairs selectors in-place. -->
</body>
</html>